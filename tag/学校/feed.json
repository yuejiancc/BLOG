{
    "version": "https://jsonfeed.org/version/1",
    "title": "月见的瞎叨叨 • All posts by \"学校\" tag",
    "description": "",
    "home_page_url": "https://blog.yuejian.fun",
    "items": [
        {
            "id": "https://blog.yuejian.fun/2021/11/09/%E6%B5%85%E8%B0%88%E6%A0%A1%E5%9B%AD%E7%BD%91%E8%AE%A4%E8%AF%81%E5%8E%9F%E7%90%86-%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/",
            "url": "https://blog.yuejian.fun/2021/11/09/%E6%B5%85%E8%B0%88%E6%A0%A1%E5%9B%AD%E7%BD%91%E8%AE%A4%E8%AF%81%E5%8E%9F%E7%90%86-%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/",
            "title": "浅谈校园网认证原理&破解方法",
            "date_published": "2021-11-09T05:03:39.000Z",
            "content_html": "<h2 id=\"前言\"><a class=\"anchor\" href=\"#前言\">#</a> 前言</h2>\n<blockquote>\n<p>这里以我的学校为例，大多数学校也是一样的方案<br />\n我们学校 WIFI 采用 WebPortal 认证，有线网络也接入了 WebPortal 认证，不过主要采用的是 Drcom 的方案（通过客户端认证）</p>\n</blockquote>\n<h1 id=\"webportal认证原理\"><a class=\"anchor\" href=\"#webportal认证原理\">#</a> WebPortal 认证原理</h1>\n<blockquote>\n<p>1.PC 接入内网后，由 BAS 中继向 DHCP 服务器获取一个合法 ip<br />\n2.BAS 建立 ACL 策略，限制 PC 网络接入，仅可访问部分内网、portal server 和 DHCP server<br />\n3. 未认证前 PC 所有 http 请求都会被重定向到 portal server<br />\n4. 用户登录后 BAS 会向 AAA server 请求认证，合法后即更改 ACL 策略，PC 可接入公网<br />\n<img data-src=\"https://raw.githubusercontent.com/yuejiancc/BLOG/master/images/webportal.drawio.png\" alt=\"流程图\" /></p>\n</blockquote>\n<hr />\n<h2 id=\"破解思路\"><a class=\"anchor\" href=\"#破解思路\">#</a> 破解思路</h2>\n<blockquote>\n<h3 id=\"通过dhcp-server入手即-udp53端口\"><a class=\"anchor\" href=\"#通过dhcp-server入手即-udp53端口\">#</a> 通过 DHCP server 入手，即 udp53 端口</h3>\n</blockquote>\n<h3 id=\"搭建softether-vpn\"><a class=\"anchor\" href=\"#搭建softether-vpn\">#</a> 搭建 softether VPN</h3>\n<blockquote>\n<p>优点：学校晚上断网后可用<br />\n缺点：传输效率低，仅 Windows 可绕过</p>\n</blockquote>\n<p>我这里选择的是 AWS 的 ec2 白嫖机子，JP 节点</p>\n<h3 id=\"搭建softether-server\"><a class=\"anchor\" href=\"#搭建softether-server\">#</a> 搭建 softether server</h3>\n<ul>\n<li>ssh 到 vps</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">wget</span> https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v4.38-9760-rtm/softether-vpnserver-v4.38-9760-rtm-2021.08.17-linux-x64-64bit.tar.gz <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">tar</span> -zxvf *  </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">cd</span> vpnserver  </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">make</span></pre></td></tr></table></figure><ul>\n<li>设置 server 端管理密码</li>\n</ul>\n<pre><code>sudo ./vpncmd\n</code></pre>\n<p>输入 <code>1</code> ，一直回车<br />\n输入 <code>ServerPasswordSet</code>  设置服务端管理员密码</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> ./vpnserver start</pre></td></tr></table></figure><ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuc29mdGV0aGVyLWRvd25sb2FkLmNvbS9jbi5hc3B4P3Byb2R1Y3Q9c29mdGV0aGVy\">下载</span>服务端管理工具并安装<br />\n<img data-src=\"p1.png\" alt=\"示例\" /></li>\n<li>新建，输入 vps 的 ip 和刚才设置的密码登录<br />\n<img data-src=\"p2.png\" alt=\"示例\" /></li>\n<li>创建 HUB，设置 HUB 名和密码<br />\n<img data-src=\"p3.png\" alt=\"示例\" /></li>\n<li>管理虚拟 HUB→管理用户→新建，设置用户名和密码<br />\n<img data-src=\"p4.png\" alt=\"示例\" /></li>\n<li>启用 SecureNAT<br />\n<img data-src=\"p5.png\" alt=\"示例\" /></li>\n<li>关键步骤：加密与网络→VPN over ICMP/DNS 设置→全部启用<br />\n<img data-src=\"p6.png\" alt=\"示例\" /><br />\n服务端的配置到这里结束了</li>\n<li>下载客户端 $ 连接<br />\n输入主机名 (vps 的 ip), 刚才创建的虚拟 HUB 名，用户和密码，连接即可<br />\n<img data-src=\"p7.png\" alt=\"示例\" /></li>\n</ul>\n<hr />\n<p><s>休息一会，待会再来补坑</s></p>\n",
            "tags": [
                "学校",
                "网络",
                "破解"
            ]
        }
    ]
}