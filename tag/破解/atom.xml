<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.yuejian.fun</id>
    <title>月见的瞎叨叨 • Posts by &#34;破解&#34; tag</title>
    <link href="https://blog.yuejian.fun" />
    <updated>2021-11-09T05:03:39.000Z</updated>
    <category term="闲聊" />
    <category term="分享" />
    <category term="学校" />
    <category term="网络" />
    <category term="破解" />
    <entry>
        <id>https://blog.yuejian.fun/2021/11/09/%E6%B5%85%E8%B0%88%E6%A0%A1%E5%9B%AD%E7%BD%91%E8%AE%A4%E8%AF%81%E5%8E%9F%E7%90%86-%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/</id>
        <title>浅谈校园网认证原理&amp;破解方法</title>
        <link rel="alternate" href="https://blog.yuejian.fun/2021/11/09/%E6%B5%85%E8%B0%88%E6%A0%A1%E5%9B%AD%E7%BD%91%E8%AE%A4%E8%AF%81%E5%8E%9F%E7%90%86-%E7%A0%B4%E8%A7%A3%E6%96%B9%E6%B3%95/"/>
        <content type="html">&lt;h2 id=&#34;前言&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#前言&#34;&gt;#&lt;/a&gt; 前言&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;这里以我的学校为例，大多数学校也是一样的方案&lt;br /&gt;
我们学校 WIFI 采用 WebPortal 认证，有线网络也接入了 WebPortal 认证，不过主要采用的是 Drcom 的方案（通过客户端认证）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;webportal认证原理&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#webportal认证原理&#34;&gt;#&lt;/a&gt; WebPortal 认证原理&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;1.PC 接入内网后，由 BAS 中继向 DHCP 服务器获取一个合法 ip&lt;br /&gt;
2.BAS 建立 ACL 策略，限制 PC 网络接入，仅可访问部分内网、portal server 和 DHCP server&lt;br /&gt;
3. 未认证前 PC 所有 http 请求都会被重定向到 portal server&lt;br /&gt;
4. 用户登录后 BAS 会向 AAA server 请求认证，合法后即更改 ACL 策略，PC 可接入公网&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636453531/Untitled_Diagram.drawio_hegvoc.png&#34; alt=&#34;流程图&#34; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h2 id=&#34;破解思路&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#破解思路&#34;&gt;#&lt;/a&gt; 破解思路&lt;/h2&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;通过dhcp-server入手即-udp53端口&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#通过dhcp-server入手即-udp53端口&#34;&gt;#&lt;/a&gt; 通过 DHCP server 入手，即 udp53 端口&lt;/h3&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;搭建softether-vpn&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#搭建softether-vpn&#34;&gt;#&lt;/a&gt; 搭建 softether VPN&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;优点：学校晚上断网后可用&lt;br /&gt;
缺点：传输效率低，仅 Windows 可绕过&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我这里选择的是 AWS 的 ec2 白嫖机子，JP 节点&lt;/p&gt;
&lt;h3 id=&#34;搭建softether-server&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#搭建softether-server&#34;&gt;#&lt;/a&gt; 搭建 softether server&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ssh 到 vps&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;wget&lt;/span&gt; https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v4.38-9760-rtm/softether-vpnserver-v4.38-9760-rtm-2021.08.17-linux-x64-64bit.tar.gz &lt;span class=&#34;token operator&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;token function&#34;&gt;tar&lt;/span&gt; -zxvf *  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;2&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token builtin class-name&#34;&gt;cd&lt;/span&gt; vpnserver  &lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td data-num=&#34;3&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;make&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;设置 server 端管理密码&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sudo ./vpncmd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输入 &lt;code&gt;1&lt;/code&gt; ，一直回车&lt;br /&gt;
输入 &lt;code&gt;ServerPasswordSet&lt;/code&gt;  设置服务端管理员密码&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;figcaption data-lang=&#34;bash&#34;&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td data-num=&#34;1&#34;&gt;&lt;/td&gt;&lt;td&gt;&lt;pre&gt;&lt;span class=&#34;token function&#34;&gt;sudo&lt;/span&gt; ./vpnserver start&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuc29mdGV0aGVyLWRvd25sb2FkLmNvbS9jbi5hc3B4P3Byb2R1Y3Q9c29mdGV0aGVy&#34;&gt;下载&lt;/span&gt;服务端管理工具并安装&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452863/p1_uzuf8k.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;li&gt;新建，输入 vps 的 ip 和刚才设置的密码登录&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452862/p2_ct6ich.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;li&gt;创建 HUB，设置 HUB 名和密码&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452862/p3_rvarjb.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;li&gt;管理虚拟 HUB→管理用户→新建，设置用户名和密码&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452863/p4_wohepm.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;li&gt;启用 SecureNAT&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452862/p5_qztbgq.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;li&gt;关键步骤：加密与网络→VPN over ICMP/DNS 设置→全部启用&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452863/p6_gsgfwa.png&#34; alt=&#34;示例&#34; /&gt;&lt;br /&gt;
服务端的配置到这里结束了&lt;/li&gt;
&lt;li&gt;下载客户端 $ 连接&lt;br /&gt;
输入主机名 (vps 的 ip), 刚才创建的虚拟 HUB 名，用户和密码，连接即可&lt;br /&gt;
&lt;img data-src=&#34;https://res.cloudinary.com/degnbzj9m/image/upload/v1636452863/p7_ukeggl.png&#34; alt=&#34;示例&#34; /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;s&gt;休息一会，待会再来补坑&lt;/s&gt;&lt;/p&gt;
</content>
        <category term="学校" />
        <category term="网络" />
        <category term="破解" />
        <updated>2021-11-09T05:03:39.000Z</updated>
    </entry>
</feed>
